<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Je me suis tromp√©?üßê</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;600;800&family=Fredoka+One&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1:#03051a; --bg2:#07112a;
    --accent:#ff6bd6; --accent2:#6be0ff;
    --light:#eaf2ff; --gold:#ffd86b;
  }
  *{box-sizing:border-box}
  html,body{
    height:100%;margin:0;
    background:radial-gradient(1200px 600px at 10% 10%, rgba(124,58,237,0.06), transparent),
               linear-gradient(180deg,var(--bg1),var(--bg2));
    font-family:Inter,system-ui,Segoe UI,Roboto;
    display:grid;place-items:center;
    color:var(--light);overflow:hidden
  }
  .card{
    width:94%;max-width:520px;
    background:linear-gradient(180deg,#071226,#0b1530);
    padding:30px;border-radius:18px;
    box-shadow:0 30px 80px rgba(3,6,23,.7);
    text-align:center;position:relative;
    overflow:hidden;z-index:1
  }
  .tap-area{
    display:grid;place-items:center;
    padding:18px 22px;border-radius:14px;
    background:rgba(255,255,255,0.03);
    cursor:pointer;border:1px solid rgba(255,255,255,0.04);
    transition:transform .18s ease;
  }
  .tap-area:active{transform:scale(.995)}
  .tap-cta{
    font-weight:800;letter-spacing:.6px;color:var(--accent2);font-size:18px;text-align:center;
  }
  .sub{font-size:13px;color:#b7cbe6;margin-top:6px;text-align:center;}
  .steps{margin-top:22px;min-height:100px;display:flex;align-items:center;justify-content:center}
  .step-text{
    font-size:20px;font-weight:700;
    color:var(--gold);letter-spacing:.5px;
    opacity:0;transform:translateY(8px);
    transition:all .45s cubic-bezier(.2,.9,.25,1)
  }
  .step-text.visible{opacity:1;transform:none}
  .reveal{margin-top:22px;display:flex;flex-direction:column;align-items:center;gap:12px;min-height:180px;justify-content:center;position:relative;z-index:3}
  .number{
    font-size:110px;font-weight:900;line-height:1;
    background:linear-gradient(90deg,var(--accent),var(--accent2));
    -webkit-background-clip:text;background-clip:text;color:transparent;
    filter:drop-shadow(0 8px 30px rgba(108,92,231,.18));
    transform-origin:center;
    transition:transform .6s cubic-bezier(.2,.9,.25,1), text-shadow .4s;
    text-shadow: 0 8px 30px rgba(124,58,237,0.12);
  }
  .number.pulse{animation: pulseSpin .9s ease forwards;}
  @keyframes pulseSpin {
    0%{ transform: scale(.4) rotate(-12deg); filter:blur(6px); opacity:0 }
    60%{ transform: scale(1.08) rotate(6deg); filter:blur(0); opacity:1 }
    100%{ transform: scale(1) rotate(0deg); opacity:1 }
  }
  .msg{font-weight:700;color:#e7f2ff}
  .final-slide{
    display:flex;flex-direction:column;align-items:center;justify-content:center;
    margin-top:20px;opacity:0;transition:opacity .6s ease;
    position:relative; z-index:2;
  }
  .final-slide.visible{opacity:1;}
  .final-slide div{
    font-family: 'Fredoka One', cursive;
    font-size:32px;
    color:#ff6bd6;
  }
  .final-slide span{
    font-size:80px;margin-top:10px;
  }
  .confetti{position:absolute;inset:0;pointer-events:none;overflow:hidden;z-index:5}
  .emoji{position:absolute;font-size:25px;pointer-events:none;z-index:1;user-select:none;will-change:transform;opacity:0.9;}
  .shine{position:absolute;inset:-40% -20% auto -20%;height:40%;pointer-events:none;background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0) 60%);transform:rotate(-18deg);filter:blur(18px);mix-blend-mode:screen;opacity:0;}
  .shine.show{animation: slideShine 1s ease forwards}
  .hidden{opacity:0;transform:translateY(8px) scale(.98);transition:all .45s cubic-bezier(.2,.9,.25,1)}
  .visible{opacity:1;transform:none}
  @media (max-width:420px){ .number{font-size:64px} .final-slide span{font-size:60px} }
</style>
</head>
<body>
<div class="card" id="card">

  <div class="tap-area" id="tap" role="button" aria-pressed="false">
    <div>
      <div class="tap-cta">CLIQUE ICI POUR PASSER √Ä L'√âTAPE SUIVANTE</div>
      <div class="sub">(Appuie √† chaque fois pour continuer)</div>
    </div>
  </div>

  <!-- Etapes -->
  <div class="steps"><div class="step-text" id="stepText"></div></div>

  <!-- R√©v√©lation finale originale -->
  <div class="reveal" id="reveal" aria-hidden="true">
    <div class="hidden" id="label">Ok, voyons si je me suis plant√© :</div>
    <div class="hidden" id="num"><span class="number" id="numberText">28</span></div>
    <div class="hidden" id="txt"><div class="msg">28 ! Co√Øncidence, je ne crois pas... üòéüòè</div></div>

    <!-- Derni√®re slide apr√®s la r√©v√©lation -->
    <div class="final-slide" id="finalSlide">
      <div>Je t'ai bien eu !</div>
      <span>üòú</span>
    </div>
  </div>

  <div class="shine" id="shine"></div>
  <div class="confetti" id="confetti"></div>
</div>

<script>
  const tap = document.getElementById('tap');
  const stepText = document.getElementById('stepText');
  const label = document.getElementById('label');
  const num = document.getElementById('num');
  const txt = document.getElementById('txt');
  const finalSlide = document.getElementById('finalSlide');
  const confettiRoot = document.getElementById('confetti');
  const shine = document.getElementById('shine');
  const numberText = document.getElementById('numberText');
  const card = document.getElementById('card');

  let shown = false;
  let stepIndex = 0;

  const steps = [
    "‚ú® Choisis un nombre entre 1 et 20",
    "‚úñÔ∏è Multiplie-le par 2",
    "‚ûï Ajoute 10",
    "‚ûó Divise le par 2",
    "‚ûñ Soustrais le √† ton nombre de d√©part",
    "‚ûï Ajoute 23"
  ];

  function showStep() {
    if (stepIndex < steps.length) {
      stepText.textContent = steps[stepIndex];
      stepText.classList.remove('visible');
      setTimeout(()=> stepText.classList.add('visible'), 30);
      stepIndex++;
    } else {
      revealNow();
    }
  }

  function playConfetti() {
    const colors = ['#ff6bd6','#ffd86b','#7c3aed','#6be0ff','#ff8a6b'];
    for(let i=0;i<48;i++){
      const el = document.createElement('i');
      el.style.left = Math.random()*100 + '%';
      el.style.top = (Math.random()*10 - 20) + '%';
      el.style.width = (6 + Math.random()*16)+'px';
      el.style.height = (8 + Math.random()*18)+'px';
      el.style.background = colors[Math.floor(Math.random()*colors.length)];
      el.style.opacity = (0.7 + Math.random()*0.4).toFixed(2);
      el.style.transform = `rotate(${Math.random()*360}deg)`;
      confettiRoot.appendChild(el);
      const dur = 1000 + Math.random()*1400;
      el.animate([
        { transform: `translateY(0px) rotate(${Math.random()*360}deg)`, opacity:1},
        { transform: `translateY(${320 + Math.random()*420}px) rotate(${Math.random()*1800}deg)`, opacity:0.9}
      ], {duration: dur, easing: 'cubic-bezier(.2,.6,.3,1)'});
      setTimeout(()=> el.remove(), dur+80);
    }
  }

  function playEmoji() {
    stepText.textContent = "";
    const emojis = ['üòõ','üòú','üòã','ü§™'];
    for(let i=0;i<50;i++){
      const e = document.createElement('div');
      e.className='emoji';
      e.textContent = emojis[Math.floor(Math.random()*emojis.length)];
      e.style.left = Math.random()*100 + '%';
      e.style.top = Math.random()*100 + '%';
      card.appendChild(e);
      const dur = (1200 + Math.random()*1000) * 2;
      e.animate([
        { transform: `translate(0,0) rotate(0deg)`, opacity:1 },
        { transform: `translate(${Math.random()*200-100}px,${Math.random()*200-100}px) rotate(${Math.random()*720-360}deg)`, opacity:0 }
      ], {duration: dur, easing:'ease-out'});
      setTimeout(()=> e.remove(), dur);
    }

    // Affiche la derni√®re slide apr√®s 3 secondes de d√©lai suppl√©mentaire
    setTimeout(()=> {
      finalSlide.classList.add('visible');
      startEmojiRain();
    }, 3000);
  }

  function startEmojiRain(){
    const emojis = ['üôÉ','üòú','ü§î','üòÅ','üòÑ'];
    setInterval(() => {
      const e = document.createElement('div');
      e.className='emoji';
      e.textContent = emojis[Math.floor(Math.random()*emojis.length)];
      e.style.left = Math.random()*100 + '%';
      e.style.top = '-30px';
      e.style.fontSize = (20 + Math.random()*10) + 'px';
      card.appendChild(e);

      const fallDuration = 4000 + Math.random()*3000;
      e.animate([
        { transform: `translateY(0px)`, opacity:1 },
        { transform: `translateY(${card.offsetHeight + 50}px)`, opacity:0.9 }
      ], {duration: fallDuration, easing:'linear'});

      setTimeout(()=> e.remove(), fallDuration);
    }, 200);
  }

  function revealNow(){
    if(shown) return;
    shown = true;

    label.classList.remove('hidden'); label.classList.add('visible');
    setTimeout(()=> shine.classList.add('show'), 120);

    setTimeout(()=>{ num.classList.remove('hidden'); num.classList.add('visible'); numberText.classList.add('pulse'); }, 260);

    setTimeout(()=>{ txt.classList.remove('hidden'); txt.classList.add('visible'); }, 620);

    setTimeout(playConfetti, 420);
    setTimeout(playEmoji, 1000);
  }

  tap.addEventListener('click', showStep);
</script>
</body>
</html>
